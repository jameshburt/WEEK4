<!DOCTYPE html>
<!--This is a webpage made to fulfil assign for csc102 as per 
    https://synchronic.uat.edu/courses/3730/assignments/131468?return_to=https%3A%2F%2Fsynchronic.uat.edu%2Fcalendar%23view_name%3Dmonth%26view_start%3D2020-10-13
    Matt Prater mprater@uat.edu
MEP's casino, it was a dark and story night...-->

<html>

<head>
    <!--links my javascript file to the html file-->
    <script src="code.js"></script>
    <!--This links my css file to this html-->
    <link href="style.css" rel="stylesheet" type="text/css" />
    <script src="dataLoader-1 (2).js"></script>
    <!--This is where my title for the webpage goes-->

    <title>
        UAT Space Page
    </title>
    <script>
        //variables for the DOM
        var theTime = new Date();
        var tempTime = new Date();
        var time_interval = 5000;
        var last_iteration = 0;
        var running = true;
        var index = 0;
        var timer;

        //load data from array
        var data = getData();

        //function to load and update display data
        function updateDisplay() {
            theTime = new Date();

            console.log("Display: " + theTime.getHours() + ":" + theTime.getMinutes() + ":" + theTime.getSeconds());

            var timeRead = data[index].time_seconds;
            if (timeRead >= 10) {
                document.getElementById("data").rows["seconds"].innerHTML = dataRow("Time Elapsed", data[index].time_seconds, "seconds");
                document.getElementById("data").rows["latitude"].innerHTML = dataRow("Latitude", data[index].latitude, " ");
                document.getElementById("data").rows["longitude"].innerHTML = dataRow("Longitude", data[index].longitude, " ");
                document.getElementById("data").rows["gps_altitude"].innerHTML = dataRow("GPS altitude", data[index].gps_altitude, " ");
                document.getElementById("data").rows["bmpSensor_altitude"].innerHTML = dataRow("BMP Sensor Altitude", data[index].bmpSensor_altitude, " ");
                document.getElementById("data").rows["bmpSensor_pressure"].innerHTML = dataRow("BMP Sensor pressure", data[index].bmpSensor_pressure, " ");
                document.getElementById("data").rows["bmpSensor_temp"].innerHTML = dataRow("BMP Sensor temp", data[index].bmpSensor_temp, " ");
                document.getElementById("data").rows["digSensor_temp"].innerHTML = dataRow("Digital Sensor temp", data[index].digSensor_temp, " ");
                document.getElementById("data").rows["cssSensor_temp"].innerHTML = dataRow("CSS Sensor temp", data[index].cssSensor_temp, " ");
                document.getElementById("data").rows["cssSensor_eCO2"].innerHTML = dataRow("CSS Sensor eCO2", data[index].cssSensor_eCO2, " ");
                document.getElementById("data").rows["cssSensor_TVOC"].innerHTML = dataRow("CSS Sensor TVOC", data[index].cssSensor_TVOC, " ");
                document.getElementById("data").rows["UV"].innerHTML = dataRow("UV", data[index].UV, " ");
                document.getElementById("data").rows["accelX"].innerHTML = dataRow("accelX", data[index].accelX, " ");
                document.getElementById("data").rows["accelY"].innerHTML = dataRow("accelY", data[index].accelY, " ");
                document.getElementById("data").rows["accelZ"].innerHTML = dataRow("accelZ", data[index].accelZ, " ");
                document.getElementById("data").rows["magneticX"].innerHTML = dataRow("magneticX", data[index].magneticX, " ");
                document.getElementById("data").rows["magneticY"].innerHTML = dataRow("magneticY", data[index].magneticY, " ");
                document.getElementById("data").rows["magneticZ"].innerHTML = dataRow("magneticZ", data[index].magneticZ, " ");
                document.getElementById("data").rows["gyroX"].innerHTML = dataRow("gyroX", data[index].gyroX, " ");
                document.getElementById("data").rows["gyroY"].innerHTML = dataRow("gyroY", data[index].gyroY, " ");
                document.getElementById("data").rows["gyroZ"].innerHTML = dataRow("gyroZ", data[index].gyroZ, " ");

                if (index < 501) {
                    index = index + 1;
                } else {
                    index = 0;
                }
            }
            //current time function
            document.getElementById("time").innerHTML = (theTime.getHours() < 10 ? "0" + theTime.getHours() : theTime.getHours()) + ":" + (theTime.getMinutes() < 10 ? "0" + theTime.getMinutes() : theTime.getMinutes())
                + ":" + (theTime.getSeconds() < 10 ? "0" + theTime.getSeconds() : theTime.getSeconds());
        }

        //issue with the time function... not inside the brackets!

    </script>


</head>

<body>
    <table class="tableTop">
        <tr>
            <!--tr defines a row in a table-->
            <td><img src="UATspaceLogo-2.jpg" /></td>
            <td>
                <h1>
                    UAT Space Program
                </h1>
            </td>
        </tr>
    </table>
    <table id="data" border="2" width="70%">
        <col style="width: 35%;">
        <col style="width: 35%;">
        <thead>
            <tr style="font-family: fantasy;">
                <th>Data type</th>
                <th>Reading</th>
            </tr>
        </thead>
        <tbody style="font-weight: bolder;">
            <tr id="seconds"></tr>
            <tr id="latitude"></tr>
            <tr id="longitude"></tr>
            <tr id="gps_altitude"></tr>
            <tr id="bmpSensor_altitude"></tr>
            <tr id="bmpSensor_pressure"></tr>
            <tr id="bmpSensor_temp"></tr>
            <tr id="digSensor_temp"></tr>
            <tr id="cssSensor_temp"></tr>
            <tr id="cssSensor_eCO2"></tr>
            <tr id="cssSensor_TVOC"></tr>
            <tr id="UV"></tr>
            <tr id="accelX"></tr>
            <tr id="accelY"></tr>
            <tr id="accelZ"></tr>
            <tr id="magneticX"></tr>
            <tr id="magneticY"></tr>
            <tr id="magneticZ"></tr>
            <tr id="gyroX"></tr>
            <tr id="gyroY"></tr>
            <tr id="gyroZ"></tr>
        </tbody>
    </table>
    <br>
    The current time is:<div id="time"></div>
    <br>
    <br>
    <br>
    <br>
    <button onclick="start();" class="funWithButtons" id="startButton">Start</button>
    <button class="funWithButtons" onclick="stop();" id="stopButton" disabled=true>Stop</button>
    <br>
    <br>
    <button class="soundButton" onclick="playStation();">Play Space Station Sounds</button>
    <br>
    <button class="soundButton" onclick="playOddity();">Play Space Oddity</button>
    <br>
    <button class="soundButton" onclick="playChief();">Play Hail to the Chief</button>
    <br>
    <button onclick="play()" class="crapsWithButtons">play craps</button>
    <br>
    <h3>Craps results</h3>
    <div id="die1Res">Die1 results here...</div>
    <div id="die2Res">Die2 results here...</div>
    <div id="sumRes">Sum results here...</div>
    <div id="finalRes">Final results here...</div>

</body>

</html>